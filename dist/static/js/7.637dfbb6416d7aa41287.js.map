{"version":3,"sources":["webpack:///./src/pages/tabpage/blogPage/blogArticleEdit.vue?c90b","webpack:///./src/pages/tabpage/blogPage/blogArticleEdit.vue?3ec0","webpack:///./src/pages/tabpage/blogPage/blogArticleEdit.vue?071e","webpack:///src/pages/tabpage/blogPage/blogArticleEdit.vue","webpack:///./src/pages/tabpage/blogPage/blogArticleEdit.vue"],"names":["__WEBPACK_IMPORTED_MODULE_0__node_modules_extract_text_webpack_plugin_dist_loader_js_ref_6_0_node_modules_vue_style_loader_index_js_node_modules_css_loader_index_js_ref_6_2_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_lib_index_js_ref_6_3_node_modules_vue_loader_lib_index_js_vue_loader_options_blogArticleEdit_vue_vue_type_style_index_0_lang_css___","__webpack_require__","n","blogPage_blogArticleEditvue_type_script_lang_js_","props","data","imageUrl","loading","Headers","token","localStorage","getItem","uploadUrl","api","uploadImage","form","title","class_id","tagsArr","cover_url","is_top","content","article_id","classIdArr","tagsIdArr","rules","required","message","trigger","created","this","init","methods","saveDoc","imgAdd","pos","$file","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","fd","_ref","wrap","_context","prev","next","FormData","append","Date","parse","Req","upload","headers","Content-Type","sent","code","$refs","editor","$img2Url","path","toolbar_left","$imgDelByFilename","name","stop","updateDoc","md","html","console","log","onSubmit","_this2","_callee3","_context3","undefined","$params","validate","_ref2","_callee2","valid","_context2","createArticle","abrupt","_x","apply","arguments","updateArticle","_this3","_callee4","value","_context4","promise_default","all","get","articleClassListAll","articleTagsListAll","list","getDetail","_this4","_callee5","_ref3","msg","_context5","post","$message","type","$closeTabs","$tabsIndex","_this5","_callee6","_ref4","_context6","put","assign_default","handleAvatarSuccess","res","file","URL","createObjectURL","raw","_this6","_callee7","_ref5","_context7","articleDetail","map","it","push","tags_id","beforeAvatarUpload","component","Object","componentNormalizer","_vm","_h","$createElement","_c","_self","staticClass","ref","attrs","model","label-width","label","prop","callback","$$v","$set","expression","_v","_l","index","key","id","_s","class_name","multiple","placeholder","tags_name","action","show-file-list","on-success","before-upload","src","ishljs","on","save","change","click","__webpack_exports__"],"mappings":"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","file":"static/js/7.637dfbb6416d7aa41287.js","sourcesContent":["import mod from \"-!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js??ref--6-0!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/index.js??ref--6-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--6-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./blogArticleEdit.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js??ref--6-0!../../../../node_modules/vue-style-loader/index.js!../../../../node_modules/css-loader/index.js??ref--6-2!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/lib/index.js??ref--6-3!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./blogArticleEdit.vue?vue&type=style&index=0&lang=css&\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/tabpage/blogPage/blogArticleEdit.vue?vue&type=style&index=0&lang=css&\n// module id = d1Qp\n// module chunks = 7","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-card',{staticClass:\"box-card\"},[_c('el-form',{ref:\"form\",attrs:{\"model\":_vm.form,\"label-width\":\"80px\",\"rules\":_vm.rules}},[_c('el-form-item',{attrs:{\"label\":\"标题\",\"prop\":\"title\"}},[_c('el-input',{model:{value:(_vm.form.title),callback:function ($$v) {_vm.$set(_vm.form, \"title\", $$v)},expression:\"form.title\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"文章分类\"}},[_c('el-radio-group',{model:{value:(_vm.form.class_id),callback:function ($$v) {_vm.$set(_vm.form, \"class_id\", $$v)},expression:\"form.class_id\"}},_vm._l((_vm.classIdArr),function(it,index){return _c('el-radio',{key:index,attrs:{\"label\":it.id}},[_vm._v(_vm._s(it.class_name))])}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"文章标签\"}},[_c('el-select',{attrs:{\"multiple\":\"\",\"placeholder\":\"请选择标签\"},model:{value:(_vm.form.tagsArr),callback:function ($$v) {_vm.$set(_vm.form, \"tagsArr\", $$v)},expression:\"form.tagsArr\"}},_vm._l((_vm.tagsIdArr),function(it,index){return _c('el-option',{key:index,attrs:{\"label\":it.tags_name,\"value\":it.tags_id}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"封面图\"}},[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"action\":_vm.uploadUrl,\"headers\":_vm.Headers,\"name\":\"images\",\"show-file-list\":false,\"on-success\":_vm.handleAvatarSuccess,\"before-upload\":_vm.beforeAvatarUpload}},[(_vm.imageUrl)?_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.imageUrl}}):_c('i',{staticClass:\"el-icon-plus avatar-uploader-icon\"})])],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"是否置顶\"}},[_c('el-switch',{model:{value:(_vm.form.is_top),callback:function ($$v) {_vm.$set(_vm.form, \"is_top\", $$v)},expression:\"form.is_top\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"内容\"}},[_c('mavon-editor',{ref:\"editor\",attrs:{\"ishljs\":true},on:{\"save\":_vm.saveDoc,\"change\":_vm.updateDoc,\"imgAdd\":_vm.imgAdd},model:{value:(_vm.form.content),callback:function ($$v) {_vm.$set(_vm.form, \"content\", $$v)},expression:\"form.content\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.loading},on:{\"click\":_vm.onSubmit}},[_vm._v(\"提交\")]),_vm._v(\" \"),_c('el-button',[_vm._v(\"取消\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options!./src/pages/tabpage/blogPage/blogArticleEdit.vue?vue&type=template&id=b34f66e2&\n// module id = null\n// module chunks = ","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./blogArticleEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./blogArticleEdit.vue?vue&type=script&lang=js&\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/tabpage/blogPage/blogArticleEdit.vue?vue&type=script&lang=js&\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <el-card class=\"box-card\">\n      <el-form ref=\"form\" :model=\"form\" label-width=\"80px\" :rules=\"rules\">\n        <el-form-item label=\"标题\" prop=\"title\">\n          <el-input v-model=\"form.title\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"文章分类\">\n            <el-radio-group v-model=\"form.class_id\">\n              <el-radio   v-for=\"(it, index) in classIdArr\" :label=\"it.id\"  :key=\"index\">{{it.class_name}}</el-radio>\n            </el-radio-group>\n        </el-form-item>\n        <el-form-item label=\"文章标签\">\n          <el-select v-model=\"form.tagsArr\" multiple placeholder=\"请选择标签\">\n            <el-option v-for=\"(it, index) in tagsIdArr\" :label=\"it.tags_name\" :value=\"it.tags_id\" :key=\"index\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"封面图\">\n          <el-upload\n              class=\"avatar-uploader\"\n              :action=\"uploadUrl\"\n              :headers=\"Headers\"\n              name=\"images\"\n              :show-file-list=\"false\"\n              :on-success=\"handleAvatarSuccess\"\n              :before-upload=\"beforeAvatarUpload\">\n              <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\">\n              <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n            </el-upload>\n        </el-form-item>\n        <el-form-item label=\"是否置顶\">\n          <el-switch v-model=\"form.is_top\"></el-switch>\n        </el-form-item>\n        <el-form-item label=\"内容\">\n          <mavon-editor  @save=\"saveDoc\"  @change=\"updateDoc\" :ishljs=\"true\" ref=\"editor\" @imgAdd=\"imgAdd\" v-model=\"form.content\"></mavon-editor>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"onSubmit\" :loading=\"loading\">提交</el-button>\n          <el-button>取消</el-button>\n        </el-form-item>\n      </el-form>\n    </el-card>\n  </div>\n</template>\n\n<script>\nimport { api } from '@/request/api.js'\nexport default {\n  props: ['$params', '$tabsIndex'],\n  data () {\n    return {\n      imageUrl: '',\n      loading: false,\n      Headers: {\n        token: localStorage.getItem('token')\n      },\n      uploadUrl: api.uploadImage,\n      form: {\n        title: '',\n        class_id: '',\n        tagsArr: [],\n        cover_url: '',\n        is_top: false,\n        content: '',\n        article_id: ''\n      },\n      classIdArr: [],\n      tagsIdArr: [],\n      rules: {\n        title: [\n          { required: true, message: '请输入标题', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  created () {\n    this.init()\n  },\n  methods: {\n    saveDoc () {},\n    async imgAdd (pos, $file) {\n      let fd = new FormData()\n      fd.append('images', $file, `csde_${Date.parse(new Date())}.jpeg`)\n      this.loading = true\n      let { data, code } = await this.Req.upload(api.uploadImage, fd, { headers: { 'Content-Type': 'multipart/form-data' } })\n      if (code === 200) {\n        this.$refs.editor.$img2Url(pos, data.path)\n      } else {\n        this.$refs.editor.toolbar_left.$imgDelByFilename($file.name)\n      }\n      this.loading = false\n    },\n    updateDoc (md, html) {\n      console.log(html)\n    },\n    async onSubmit () {\n      if (this.$params.article_id === undefined) {\n        this.$refs['form'].validate(async (valid) => {\n          if (valid) {\n            await this.createArticle()\n          } else {\n            console.log('error submit!!')\n            return false\n          }\n        })\n      } else {\n        await this.updateArticle()\n      }\n      this.loading = false\n    },\n    async init () {\n      let value = await Promise.all([this.Req.get(api.articleClassListAll), this.Req.get(api.articleTagsListAll)])\n      this.classIdArr = value[0].data.list\n      this.tagsIdArr = value[1].data.list\n      if (this.$params.article_id !== undefined) {\n        this.getDetail()\n      }\n    },\n    async createArticle () {\n      this.loading = true\n      let { code, msg } = await this.Req.post(api.createArticle, this.form)\n      if (code === 200) {\n        this.$message({\n          type: 'success',\n          message: msg\n        })\n        this.$params.init()\n        this.$closeTabs(this.$tabsIndex)\n      }\n    },\n    async updateArticle () {\n      let { msg, code } = await this.Req.put(api.updateArticle, Object.assign(this.form, { article_id: this.$params.article_id }))\n      if (code === 200) {\n        this.$message({\n          type: 'success',\n          message: msg\n        })\n        this.$params.init()\n        this.$closeTabs(this.$tabsIndex)\n      }\n    },\n    handleAvatarSuccess (res, file) {\n      this.form.cover_url = res.data.path\n      this.imageUrl = URL.createObjectURL(file.raw)\n    },\n    async getDetail () {\n      let { data, code } = await this.Req.get(api.articleDetail, {article_id: this.$params.article_id})\n      if (code === 200) {\n        this.imageUrl = data.cover_url\n        this.form.cover_url = data.cover_url\n        this.form.title = data.title\n        this.form.class_id = data.class_id\n        this.form.is_top = data.is_top\n        this.form.content = data.content\n        data.tagsArr.map(it => this.form.tagsArr.push(it.tags_id))\n      }\n    },\n    beforeAvatarUpload (file) {\n      // const isJPG = file.type === 'image/jpeg'\n      // const isLt2M = file.size / 1024 / 1024 < 2\n\n      // if (!isJPG) {\n      //   this.$message.error('上传头像图片只能是 JPG 格式!')\n      // }\n      // if (!isLt2M) {\n      //   this.$message.error('上传头像图片大小不能超过 2MB!')\n      // }\n      // return isJPG && isLt2M\n    }\n  }\n}\n</script>\n\n<style>\n  .avatar-uploader .el-upload {\n    border: 1px dashed #d9d9d9;\n    border-radius: 6px;\n    cursor: pointer;\n    position: relative;\n    overflow: hidden;\n  }\n  .avatar-uploader .el-upload:hover {\n    border-color: #409EFF;\n  }\n  .avatar-uploader-icon {\n    font-size: 16px;\n    color: #8c939d;\n    width: 240px;\n    height: 100px;\n    line-height: 100px;\n    text-align: center;\n  }\n  .avatar {\n    width: 240px;\n    height: 100px;\n    display: block;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/pages/tabpage/blogPage/blogArticleEdit.vue","import { render, staticRenderFns } from \"./blogArticleEdit.vue?vue&type=template&id=b34f66e2&\"\nimport script from \"./blogArticleEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./blogArticleEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./blogArticleEdit.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/tabpage/blogPage/blogArticleEdit.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}